version: "3.1"

intents:
- faq
#- faq/quien_eres
#- faq/quien_te_creo
#- faq/eres_una_maquina
#- faq/que_haces
- buscar_pokemon
- saludo
- despedida
- extraer_entidad
- out-of-scope

entities:
  - PER
  # desde SpacyEntityExtractor
  - number
  - time
  - url
  - duration
  # desde DucklingEntityExtractor
  - pokemon_name
  # desde RegexEntityExtractor

actions:
  - validate_user_name_form
  - validate_pokemon_name_form
  - action_informacion_pokemon
  - action_mostrar_entidades

slots:
  user_name:
    type: text
    influence_conversation: false
    mappings:
    - type: custom
      conditions:
      - active_loop: user_name_form
        requested_slot: user_name
  pokemon_name:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: pokemon_name
  pokemon_type:
    type: text
    influence_conversation: false
    mappings:
    - type: custom
  abilities_num:
    type: text
    influence_conversation: false
    mappings:
    - type: custom
  pokemon_abilities:
    type: text
    influence_conversation: false
    mappings:
    - type: custom
  counter:
    type: float
    initial_value: 0
    influence_conversation: false
    mappings:
    - type: custom

forms:
  user_name_form:
    required_slots:
      - user_name
  pokemon_name_form:
    required_slots:
      - pokemon_name

responses:
  utter_saludo_inicial:
  - text: "Â¡Hola!ğŸ‘‹ Soy PokÃ©bot y serÃ© tu nueva Pokedex ğŸ’»"
  utter_ask_user_name:
  - text: "Por favor, ingresa tu nombre para continuar:"
  utter_menu:
  - text: "Â¡Muy bien, {user_name}! Elige una de estas opciones para poder ayudarte:"
    buttons: 
    - title: "Buscar un pokemon"
      payload: "/buscar_pokemon"
    - title: "Quiero terminar la conversaciÃ³n"
      payload: "/despedida"
  utter_ask_pokemon_name:
  - text: "Escribe el nombre del pokemon que estÃ¡s buscando ğŸ”"
  utter_despedida:
  - text: "Â¡OjalÃ¡ verte pronto!ğŸ¤š EstarÃ© aquÃ­ por si me necesitas ğŸ˜„. AdiÃ³s, {user_name}."
  utter_reingreso_menu_inicial:
  - text: "Â¡QuÃ© bueno que regresaste!ğŸ˜Š Â¿QuÃ© te gustarÃ­a hacer, {user_name}?"
    buttons:
    - title: "Quiero buscar informaciÃ³n de un pokÃ©mon"
      payload: "/buscar_pokemon"
    - title: "Quiero terminar la conversaciÃ³n"
      payload: "/despedida"
  utter_reingreso_menu:
  - text: "Â¿QuÃ© te gustarÃ­a hacer ahora, {user_name}?"
    buttons:
    - title: "Quiero buscar informaciÃ³n de otro pokÃ©mon"
      payload: "/buscar_pokemon"
    - title: "Quiero terminar la conversaciÃ³n"
      payload: "/despedida"
  utter_respuesta_informacion_pokemon:
  - text: "Â¡Muy bien! {pokemon_name} {pokemon_type} {abilities_num}: {pokemon_abilities}"
  - text: "Â¡Excelente! {pokemon_name} {pokemon_type} {abilities_num}: {pokemon_abilities}"
  - text: "Â¡Perfecto! {pokemon_name} {pokemon_type} {abilities_num}: {pokemon_abilities}"
  - text: "Â¡Mira lo que encontrÃ©! {pokemon_name} {pokemon_type} {abilities_num}: {pokemon_abilities}"
  utter_faq/quien_eres:
  - text: "Soy PokÃ©bot y estoy preparado para ser tu nueva Pokedex ğŸ’»"
  utter_faq/quien_te_creo:
  - text: "Fui creado por MahmutğŸ¤“, un lingÃ¼ista computacional chileno ğŸ‡¨ğŸ‡±"
  utter_faq/eres_una_maquina:
  - text: "SÃ­, soy un chatbot basado en tecnologÃ­as de NLP e Inteligencia Artificial"
  utter_faq/que_haces:
  - text: "Por el momento, puedo ayudarte a buscar informaciÃ³n de un pokÃ©mon si me dices su nombre. Â¿QuÃ© te gustarÃ­a hacer?"
    buttons:
    - title: "Quiero buscar informaciÃ³n de un pokÃ©mon"
      payload: "/buscar_pokemon"
    - title: "Quiero terminar la conversaciÃ³n"
      payload: "/despedida"
  utter_out_of_scope:
  - text: "Lamento no poder ayudarte con eso ğŸ˜¢, pero sÃ­ puedo hacerlo con lo siguiente:"
    buttons:
    - title: "Quiero buscar informaciÃ³n de un pokÃ©mon"
      payload: "/buscar_pokemon"
    - title: "Quiero terminar esta conversaciÃ³n"
      payload: "/despedida"
  utter_default:
  - text: "Lo lamento, no pude entender tu mensaje. Intenta decÃ­rmelo de otra forma o escoge una de mis opciones:"
    buttons:
    - title: "Quiero buscar informaciÃ³n de un pokÃ©mon"
      payload: "/buscar_pokemon"
    - title: "Quiero terminar la conversaciÃ³n"
      payload: "/despedida"

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true